---
layout: post
title: test
date: 2025-02-04 13:51:00 +0900
category: bootcamp-til
---

<div style="width: 100%; overflow: hidden;">
  <iframe id="myIframe" src="/web/album/index.html" width="100%" style="border:none; overflow-x: scroll;"></iframe>
</div>

<script>
  function resizeIframe() {
    var iframe = document.getElementById("myIframe");
    var contentBody = iframe.contentWindow.document.body;
    
    // iframe의 높이를 내부 콘텐츠의 높이에 맞게 설정
    if (iframe && contentBody) {
      iframe.style.height = contentBody.scrollHeight + "px";
    }
  }

  // iframe이 로드될 때 높이 자동 조정
  document.getElementById("myIframe").onload = function() {
    resizeIframe();
  };

  // 창 크기 변화 시에도 높이 재조정
  window.addEventListener("resize", resizeIframe);

  // iframe 내용이 동적으로 변경될 때마다 높이를 다시 조정하도록 설정
  var iframe = document.getElementById("myIframe");
  var contentDocument = iframe.contentWindow.document;

  // MutationObserver를 사용하여 iframe 내부 문서의 변화를 감지
  var observer = new MutationObserver(resizeIframe);

  iframe.onload = function() {
    observer.observe(contentDocument.body, {
      childList: true, // 자식 노드가 추가/삭제될 때 감지
      subtree: true,   // 자식 요소들이 깊게 변경되는 경우도 감지
      characterData: true, // 텍스트가 변경될 때 감지
    });
  };
</script>
