---
layout: post
title: "[TIL] 2025-04-04 / 트러블 슈팅"
date: 2025-04-04 11:20:00 +0900
categories: 
  - til
  - main-camp
---

* toc
{:toc}

## 📖 Today I Learned
### 트러블 슈팅

<!-- <h4> 📃 </h4> -->

---

#### - 문제 1
- 문제 정의
  - 게시글 작성 시 유저 이름을 받아오는 부분을 Request 보낼 때 이름을 넣어서 보내는 것이 아니라 자동으로 현재 입력하고 있는 유저의 값을 넣어주고 싶음
- 사실 수집
  - 현재 구현된 기능은 클라이언트에서 유저의 이름을 Request Body에 받아오고 있음
- 원인 추론
  - 클라이언트가 유저의 이름을 입력하도록 되어 있어 자동으로 유저의 정보를 가져올 수 없음
  - 로그인 기능이 구현되지 않았음
- 조사방법 결정
  - 로그인을 구현 후 로그인 된 유저의 정보를 저장하는 방식
- 조사방법 구현
  - Session을 통해 로그인 기능 구현
  - API 기능 수정
  - Session을 통해 유저의 정보를 가져옴
- 결과 관찰
  - 게시글 작성시 로그인된 유저의 정보를 잘 가져오는지
  - 클라이언트에서 유저의 이름을 입력하지 않아도 되는지

---

#### - 문제 2
- 문제 정의
  - `@email` 어노테이션을 사용했을 떄 이메일 형식에 맞지 않더라도 입력이 가능
- 사실 수집
  - `@email` 어노테이션은 Validation 패키지에서 제공
  - 기본적인 이메일 형식 검증 가능
  - 표준을 완전히 따르지 않음
- 원인 추론
  - 단순한 형식 검증만 수행
  - 도메인 검증 X
- 조사방법 결정
  - `@Pattern`을 사용하여 정규식 검증 사용
  - 커스텀 Validator를 구현
- 조사방법 구현
  - 정규식을 사용하여 구현

```java
@Pattern(regexp="^[0-9a-zA-Z]([-_.]?[0-9a-zA-Z])*@[0-9a-zA-Z]([-_.]?[0-9a-zA-Z])+[.][a-zA-Z]{2,3}$", message = "이메일 형식이 아닙니다.")
```

- 결과 관찰
  - 올바르지 않은 이메일이 제대로 걸러 지는지

---

<h2> 💬 </h2>

<h4> 저번에 했던 일정 프로젝트 보다는 쉬웠던 것 같은 느낌이 든다.. <br>
또한 시간 분배가 전보다는 좋아진건지 시간도 조금 더 있었던 것 같은 느낌도 든다.. 👍</h4>
