---
layout: post
title: "[TIL] 2025-04-18 / API LOGGING"
date: 2025-04-18 20:20:00 +0900
categories: 
  - til
  - main-camp
---

* toc
{:toc}

## π“– Today I Learned
### API LOGGING

<!-- <h4> π“ƒ </h4> -->

---

#### - AOP VS μΈν„°μ…‰ν„° VS ν•„ν„°

|      κµ¬λ¶„      |                ν•„ν„° (Filter)                |         μΈν„°μ…‰ν„° (Interceptor)          |            AOP (Aspect-Oriented Programming)            |
| :------------: | :-----------------------------------------: | :-------------------------------------: | :-----------------------------------------------------: |
|   μ μ© λ²”μ„    | μ„λΈ”λ¦Ώ κΈ°λ° (μ›Ή λ λ²¨, Dispatcher μ „μ— μ‹¤ν–‰) |       μ¤ν”„λ§ MVC (μ»¨νΈλ΅¤λ¬ μ „/ν›„)       |           μ „λ°μ μΈ Spring Bean (λ©”μ„λ“ λ‹¨μ„)            |
|      μ„μΉ      |           DispatcherServlet μ΄μ „            | DispatcherServlet μ΄ν›„, Controller μ „ν›„ |          λ©”μ„λ“ μ‹¤ν–‰ μ „/ν›„ (μ£Όλ΅ μ„λΉ„μ¤ κ³„μΈµ)           |
|   κµ¬ν„ λ°©μ‹    |           `javax.servlet.Filter`            |        `HandlerInterceptor` κµ¬ν„        |        `@Aspect` + `@Around`, `@Before` λ“± μ‚¬μ©         |
|   μ£Όμ” μ©λ„    |          μΈμ¦, μΈμ½”λ”©, λ΅κΉ…, CORS           |          μΈμ¦, κ¶ν• κ²€μ‚¬, λ΅κΉ…          |              νΈλμ­μ…, λ΅κΉ…, μ„±λ¥ μΈ΅μ • λ“±               |
| HTTP μ •λ³΄ μ ‘κ·Ό |                    κ°€λ¥                     |                  κ°€λ¥                   | μΌλ°μ μΌλ΅ μ–΄λ ¤μ›€ (`HttpServletRequest` μλ™ μ£Όμ… ν•„μ”) |
|   μ„¤μ • λ°©μ‹    | `@WebFilter` λλ” `FilterRegistrationBean`  |     `WebMvcConfigurer`λ¥Ό ν†µν•΄ λ“±λ΅      |              `@Aspect` μ‚¬μ©ν•μ—¬ Bean λ“±λ΅               |


1. ν•„ν„° (Filter)
   - μ¥μ : μ”μ²­μ΄ μ»¨νΈλ΅¤λ¬κΉμ§€ λ„λ‹¬ν•κΈ° μ „ κ°€μ¥ λ¨Όμ € μ‹¤ν–‰λ¨
   - μ ν•©ν• κ²½μ°:
     - μ”μ²­/μ‘λ‹µ μ „μ²΄μ— κ³µν†µ μ μ©ν•  κΈ°λ¥ (μ: CORS, XSS λ°©μ§€, μΈμ½”λ”©)
     - κ°€μ¥ λ°”κΉ¥λ‹¨ λ΅κΉ… (μ”μ²­ URI, μ‘λ‹µ μ½”λ“ λ“± μ „μ²΄ νλ¦„)

2. μΈν„°μ…‰ν„° (Interceptor)
   - μ¥μ : μ¤ν”„λ§μ μ»¨νΈλ΅¤λ¬μ— μ§„μ…ν•κΈ° μ§μ „/μ§ν›„ μ‹¤ν–‰
   - μ ν•©ν• κ²½μ°:
     - μΈμ¦/μΈκ°€ μ²΄ν¬
     - μ»¨νΈλ΅¤λ¬ μ§„μ…/μ‘λ‹µ μ „ν›„λ΅ API λ΅κΉ… (URI, νλΌλ―Έν„° λ“±)
     - μ‚¬μ©μμ μ—­ν• μ— λ”°λΌ μ ‘κ·Ό μ ν•ν•  λ•

3. AOP
   - μ¥μ : λ©”μ„λ“ λ‹¨μ„λ΅ μ„Έλ°€ν•κ² μ μ–΄ κ°€λ¥ (μ„λΉ„μ¤ λ μ΄μ–΄ μ¤‘μ‹¬)
   - μ ν•©ν• κ²½μ°:
     - λΉ„μ¦λ‹μ¤ λ΅μ§μ μ„±λ¥ μΈ΅μ •
     - μ„λΉ„μ¤ λ μ΄μ–΄μ—μ„μ λ΅κΉ… (μ: μ–΄λ–¤ μ„λΉ„μ¤κ°€ νΈμ¶λλ”μ§€, νλΌλ―Έν„°/λ¦¬ν„΄κ°’)
     - μ¤‘λ³µλ λ΅μ§ μ¶”μ¶ (μ: νΈλμ­μ…, μμ™Έ μ²λ¦¬)


<!-- --- -->

<!-- <h2> π’¬ </h2> -->

<!-- <h4>  </h4> -->


