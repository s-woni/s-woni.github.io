---
layout: post
title: "[TIL] 2025-05-19 / 인덱싱(Indexing)"
date: 2025-05-19 20:00:00 +0900
categories: 
  - til
  - main-camp
---

* toc
{:toc}

## 📖 Today I Learned
### 인덱싱(Indexing)

---

#### - **인덱스(Index)**
- 데이터베이스에서 **데이터를 빠르게 조회**하기 위해 사용하는 자료 구조  
- 책의 목차처럼, 원하는 데이터를 더 빠르게 찾을 수 있도록 도와줌  
- 인덱스가 없는 경우, 전체 테이블을 순회함 → 이를 **풀 테이블 스캔(full table scan)**이라고 함  
- 인덱스를 사용하면 검색 속도가 대폭 향상됨

#### - **동작 방식**
- 대부분의 RDBMS는 **B-Tree** 기반의 인덱스를 사용  
- 인덱스는 테이블의 특정 컬럼 값을 정렬된 구조로 저장  
- 인덱스를 조회한 후 해당 데이터의 실제 위치(ROWID 등)를 참조해 데이터를 가져옴

#### - **종류**
- **기본 인덱스(Primary/Unique)**: 기본키나 유니크 제약조건이 설정된 컬럼에 자동 생성  
- **보조 인덱스(Secondary Index)**: 쿼리 성능 향상을 위해 사용자가 직접 생성한 인덱스  
- **복합 인덱스(Composite Index)**: 여러 컬럼을 묶어서 만든 인덱스. 컬럼 순서 중요  
- **Covering Index**: 인덱스만으로 원하는 데이터를 모두 가져올 수 있는 경우  
- **함수 기반 인덱스(Function Index)**: 컬럼에 함수가 적용된 결과를 인덱싱 (ex: `UPPER(name)`)

#### - **장점**
- 조회(SELECT) 성능 대폭 향상  
- 조건절(WHERE), 정렬(ORDER BY), 그룹핑(GROUP BY) 성능 개선에 기여  
- 대용량 테이블에서 효율적인 검색이 가능

#### - **단점 및 주의점**
- **쓰기(INSERT, UPDATE, DELETE) 성능 저하** 가능 → 인덱스도 함께 갱신되기 때문  
- 너무 많은 인덱스는 오히려 성능에 부정적 영향  
- 잘못된 컬럼 조합이나 순서로 인덱스 만들면 효과 없음  
- **인덱스 사용 여부는 실행 계획(Explain Plan)**으로 반드시 확인 필요

#### - **인덱스가 잘 작동하는 경우**
- WHERE 절에 자주 등장하는 컬럼  
- 정렬(ORDER BY)에 자주 사용되는 컬럼  
- 조인 시 자주 사용하는 키 컬럼  
- 큰 테이블에서 소량의 데이터만 조회할 때

#### - **인덱스 관련 쿼리 예시**
```sql
-- 인덱스 생성
CREATE INDEX idx_user_name ON users(name);

-- 인덱스 삭제
DROP INDEX idx_user_name;

-- 실행 계획 확인 (MySQL 기준)
EXPLAIN SELECT * FROM users WHERE name = 'Alice';

<!-- --- -->

<!-- <h2> 💬 </h2> -->

<!-- <h4>  </h4> -->
