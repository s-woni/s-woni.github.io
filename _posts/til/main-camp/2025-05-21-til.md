---
layout: post
title: "[TIL] 2025-05-21 / ìŠ¤í”„ë§ì—ì„œì˜ Redis ì‚¬ìš©"
date: 2025-05-21 20:00:00 +0900
categories: 
  - til
  - main-camp
---

* toc
{:toc}

## ğŸ“– Today I Learned
### ìŠ¤í”„ë§ì—ì„œì˜ Redis ì‚¬ìš©

---

#### - **Redis**
- ì¸ë©”ëª¨ë¦¬ ê¸°ë°˜ì˜ NoSQL ë°ì´í„°ë² ì´ìŠ¤  
- key-value êµ¬ì¡°ë¥¼ ì‚¬ìš© 
- ë¹ ë¥¸ ì†ë„ì™€ ë‹¤ì–‘í•œ ìë£Œ êµ¬ì¡°(list, set, hash ë“±) ì œê³µ  
- ìºì‹œ, ì„¸ì…˜ ì €ì¥, ë©”ì‹œì§€ ë¸Œë¡œì»¤(Pub/Sub), ì‹¤ì‹œê°„ ë­í‚¹ ë“±ì— ìì£¼ ì‚¬ìš©

#### - **Springê³¼ Redis ì—°ë™**
- `spring-boot-starter-data-redis` ì˜ì¡´ì„±ìœ¼ë¡œ ì—°ë™ ê°€ëŠ¥  
- ê¸°ë³¸ì ìœ¼ë¡œ `Lettuce` í´ë¼ì´ì–¸íŠ¸ ì‚¬ìš©, í•„ìš” ì‹œ `Jedis`ë¡œ êµì²´ ê°€ëŠ¥  
- RedisConnectionFactory, RedisTemplate, RedisCacheManager ë“±ì˜ Bean ìë™ ìƒì„±

```groovy
// build.gradle
dependencies {
    implementation 'org.springframework.boot:spring-boot-starter-data-redis'
}
```

```yaml
# application.yml
spring:
  data:
    redis:
      host: localhost
      port: 6379
```

#### - **RedisTemplate ì‚¬ìš© ì˜ˆì‹œ**

```java
@Autowired
private RedisTemplate<String, String> redisTemplate;

public void saveData(String key, String value) {
    redisTemplate.opsForValue().set(key, value);
}

public String getData(String key) {
    return redisTemplate.opsForValue().get(key);
}
```

- ë‹¤ì–‘í•œ ìë£Œêµ¬ì¡° ì§€ì› (String, List, Set, Hash, ZSet ë“±)  
- `opsForValue()`, `opsForList()` ê°™ì€ ë©”ì„œë“œ í†µí•´ êµ¬ì¡°ë³„ ì‘ì—… ìˆ˜í–‰ ê°€ëŠ¥

#### - **ìŠ¤í”„ë§ ìºì‹œ ê¸°ëŠ¥ê³¼ Redis í†µí•©**
- `@EnableCaching` ì–´ë…¸í…Œì´ì…˜ê³¼ `RedisCacheManager` ì„¤ì •ìœ¼ë¡œ ìºì‹œ ìŠ¤í† ë¦¬ì§€ë¡œ ì‚¬ìš© ê°€ëŠ¥

```java
@Configuration
@EnableCaching
public class RedisCacheConfig {

    @Bean
    public RedisCacheManager cacheManager(RedisConnectionFactory connectionFactory) {
        return RedisCacheManager.builder(connectionFactory).build();
    }
}
```

- ì´í›„ `@Cacheable`, `@CacheEvict`, `@CachePut` ì–´ë…¸í…Œì´ì…˜ í™œìš©í•´ ìºì‹œ êµ¬í˜„ ê°€ëŠ¥  
- ìºì‹œ ì €ì¥ì†Œë¡œ Redisë¥¼ ì‚¬ìš©í•¨ìœ¼ë¡œì¨ ì„œë²„ ì¬ì‹œì‘ ê°„ ìºì‹œ ìœ ì§€ ê°€ëŠ¥  
- ë¶„ì‚° í™˜ê²½ì—ì„œë„ ì¼ê´€ëœ ìºì‹œ ê³µìœ  ê°€ëŠ¥

#### - **ì¶”ê°€ í™œìš©: ì„¸ì…˜ ì €ì¥**
- `spring-session-data-redis`ë¥¼ í™œìš©í•´ ì„¸ì…˜ í´ëŸ¬ìŠ¤í„°ë§ ê°€ëŠ¥  
- ë¶„ì‚° ì‹œìŠ¤í…œì—ì„œë„ ì„¸ì…˜ ìœ ì§€ ê°€ëŠ¥í•˜ê²Œë” ì§€ì›  
- ì„¸ì…˜ ì •ë³´ê°€ Redisì— ì €ì¥ë˜ë©°, ê¸°ë³¸ TTL ì„¤ì •ë„ ê°€ëŠ¥

#### - **ì¶”ê°€ í™œìš©: Pub/Sub**
- Redisì˜ `publish/subscribe` ê¸°ëŠ¥ í™œìš© ê°€ëŠ¥  
- ì±„íŒ…, ì‹¤ì‹œê°„ ì•Œë¦¼ ë“±ì— ì‚¬ìš©
- `MessageListenerAdapter`, `RedisMessageListenerContainer` ë“±ì„ ì‚¬ìš©í•´ êµ¬ë… ì²˜ë¦¬ ê°€ëŠ¥

<!-- --- -->

<!-- <h2> ğŸ’¬ </h2> -->

<!-- <h4>  </h4> -->
