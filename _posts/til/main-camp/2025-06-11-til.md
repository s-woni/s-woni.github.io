---
layout: post
title: "[TIL] 2025-06-11 / 5분 브리핑"
date: 2025-06-11 20:20:00 +0900
categories: 
  - til
  - main-camp
---

* toc
{:toc}

## 📖 Today I Learned
### 5분 브리핑

<!-- <h4> 📃 </h4> -->

---

#### - ✅ 0: LightGBM 단일 모델

[내가 구현한 기능]
- 차량의 주요 스펙(옵션, 하이브리드 여부)을 기반으로 전체 생산 공정에 걸리는 총 소요 일수를 예측
- 빠르게 baseline 성능을 확보할 수 있는 **경량 머신러닝 모델 LightGBM**을 사용해 구현

[주요로직]
- 입력: 차량의 옵션, 하이브리드 여부
- 출력: 차량 전체 공정 소요 일수
- LightGBM 회귀 모델 하나로 전체 공정에 대한 총 일수를 예측

[배경]
- 기존에는 차량 생산 후 출고일을 대략적인 평균값이나 담당자의 경험으로 예측
- 옵션에 따라 실제로 공정 시간이 크게 달라져, 고객에게 전달된 출고 예상일과 실제 출고일 간 오차가 큼
- 빠르게 baseline 모델을 구축하고 성능을 점검해볼 필요가 있었음

[요구사항]
- 적은 양의 데이터를 활용해도 어느 정도 예측이 가능한 모델
- 학습 속도가 빠르고 실험 반복이 쉬운 구조
- 학습 과정이나 예측 결과를 해석할 수 있어야 함 (트리 기반 모델의 장점)

[의사결정]

문제 정의 (Why)
- 공정마다 실제 소요 시간이 다른데, 이를 고려하지 않은 평균적 추정은 고객 신뢰도에 영향을 줌
- 복잡한 신경망 도입 전, 우선 빠르게 문제를 정의하고 탐색할 수 있는 모델이 필요

해결 방법 & 기술 선택지 (How)
- **LightGBM**은 트리 기반 모델로서
    - 적은 수의 feature로도 빠르게 예측 가능
    - feature importance를 통해 예측에 기여한 요소를 분석할 수 있음
- SVM, MLP 등 다른 모델에 비해 **구현 난이도가 낮고 baseline 확보에 적합**하다고 판단

[회고]
기술의 장단점

| 항목 | 장점 | 단점 |
| --- | --- | --- |
| LightGBM (단일) | 빠르게 실험 가능, 해석 용이, baseline 확보에 적합 | 조합 효과, 공정별 특성 등 세밀한 정보 반영 어려움 |

설계/기술 선택 자체에 대한 학습 회고

- LightGBM은 "빠르게 해보자"에 매우 좋은 선택이었음
- 하지만 문제를 더 세분화하면서 "단일 모델"의 한계를 명확히 인식하게 됐고
- 이후 공정별 모델 분리나 비선형 모델(Multi-layer Perceptron)로의 전환이 자연스럽게 이어짐

#### - ✅ 1. LightGBM 단일 모델 → 공정별 모델 5개로 분리

[내가 구현한 기능]
차량 스펙(옵션, 하이브리드 여부)을 기반으로 각 공정별 소요시간을 예측하는 ML 기능 개발
- LightGBM을 활용해 각 공정별 일수 예측
- 초기엔 단일 모델로 전체 일수를 예측, 이후 공정별로 분리하여 5개 모델로 확장

[주요로직]
- 입력: 차량별 옵션, 하이브리드 여부
- 출력: 공정별 소요일 예측 (공정1~5)
- 초기에는 전체 소요일만 예측 → 확장 후 공정별 LightGBM 회귀 모델 5개로 개별 학습

[배경]
- 고객 대기시간 예측 정확도가 낮고, 실제 출고일과 오차가 큼
- 단일 모델은 전체 소요시간 예측에선 무난하지만 공정별 차이를 반영하기 어려웠음

[요구사항]
- 공정별 속도 차이를 반영해 정확한 출고일 산출
- 공정별 조정 시뮬레이션 가능성 확보
- 옵션 조합에 따른 공정 시간 차이 반영

[의사결정]
- 문제 정의 (Why)
    - 전체 일수만 예측하면 특정 공정에서의 병목이나 지연 사유 분석이 불가능
- 해결 방법 & 기술 선택지 (How)
    - 단일 LightGBM 모델 → 공정별 모델 5개로 분리
    - 입력은 같지만 출력 타깃을 공정별로 다르게 구성하여 예측 정확도 향상 기대

[회고]
- 기술의 장단점
    
    | 모델 | 장점 | 단점 |
    | --- | --- | --- |
    | LightGBM (단일) | 빠르게 baseline 구성 가능 | 공정 간 차이 반영 불가 |
    | LightGBM (공정별) | 병목 구간 파악 가능, 예측 분해 가능 | 모델 수 증가, 유지 관리 어려움 |
- 설계/기술 선택 회고
    - 공정 단위로 나누자 예측 분해가 쉬워지고, 오차 원인 추적이 가능해졌음
    - 초기 설계의 한계를 실험을 통해 구체화하고 점진적으로 개선

#### - ✅ 2. LightGBM의 한계 인식 → MLP 검토
[문제인식]
- LightGBM은 학습에 없는 옵션 조합(ex: option_1 + option_2)에 대해 단순 평균 기반으로만 예측
- 예컨대 A+B 조합 실제 소요가 7일이지만 3~4일로만 예측하는 사례 확인

[배경]
- LightGBM은 학습 데이터에 없는 옵션 조합(예: 1+2)이 등장할 경우 예측 실패
- 단순 평균 추정처럼 작동, 조합 효과 학습 불가능

[요구사항]
- 본 적 없는 옵션 조합도 예측 가능해야 함 → 일반화 필요
- 조합 효과(Interaction)를 반영할 수 있어야 함

[의사결정]
- 문제 정의 (Why)
    - 실제 제품에서는 다양한 옵션 조합이 계속 등장 → 학습 데이터에 없다고 예측 실패하면 실무에서 쓸 수 없음
- 해결 방법 & 기술 선택지 (How)
    - 비선형 조합 효과를 학습할 수 있는 모델로 MLP 선택
    - LightGBM vs MLP 성능 및 일반화 능력 비교 테스트 진행
- 예상 기대 효과
    - 새로운 옵션 조합에 대한 일반화 능력 강화
    - 옵션 간 상호작용 반영으로 예측 정확도 향상
    - 모델 확장성·유지보수 효율성

[회고]
- 기술의 장단점
    
    | 모델 | 장점 | 단점 |
    | --- | --- | --- |
    | LightGBM | 빠르고 튜닝 쉬움 | 조합 효과 학습 불가능 |
    | MLP | 조합 표현력 우수, 일반화 가능 | 과적합, 하이퍼파라미터 튜닝 필요 |
- 향후 과제
    - MLP 프로토타입 설계 및 초기 실험
    - 도커 컨테이너로 모델 배포 파이프라인 구축
    - 최종 모델 선정 후 배포·자동화 파이프라인 구축


<!-- --- -->

<!-- <h2> 💬 </h2> -->

<!-- <h4>  </h4> -->
