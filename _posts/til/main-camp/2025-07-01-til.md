---
layout: post
title: "[TIL] 2025-07-01 / RabbitMQ ì´ë©”ì¼ ì•Œë¦¼ ì¬êµ¬ì„±"
date: 2025-07-01 20:00:00 +0900
categories: 
  - til
  - main-camp
---

* toc
{:toc}

## ğŸ“– Today I Learned
### RabbitMQë¥¼ í™œìš©í•œ ì´ë©”ì¼ ì•Œë¦¼ ì‹œìŠ¤í…œ êµ¬ì„± ë° ì¬ì„¤ê³„

---

#### - RabbitMQ êµ¬ì„± ì „ë©´ ìˆ˜ì •
- ê¸°ì¡´ `order.exchange` ì™¸ì— ìƒˆë¡œìš´ `counsel.exchange` ë„ì…
- ìƒë‹´ ì•Œë¦¼ìš© í(`counsel.email.queue`)ì™€ ë¼ìš°íŒ… í‚¤(`counsel.email.notify`) ë¶„ë¦¬ êµ¬ì„±
- MQ ì‚¬ìš© ì—¬ë¶€ë¥¼ ì„¤ì •ìœ¼ë¡œ ë¶„ê¸° (`mq.enabled=true`)

#### - JSON ë©”ì‹œì§€ ì§ë ¬í™” ì„¤ì •

```java
@Bean  
public MessageConverter jsonMessageConverter() {  
â€ƒâ€ƒreturn new Jackson2JsonMessageConverter();  
}
```

- RabbitTemplateê³¼ @RabbitListener ê°„ JSON ì§ë ¬í™” ë°©ì‹ í†µì¼

#### - LazyInitializationException í•´ê²°
- MQ Listenerì—ì„œ ë°œìƒí•œ LazyLoading ì˜¤ë¥˜ (`User`, `Dealer`) í•´ê²°ì„ ìœ„í•´  
  `counselRepository.findWithDealerAndUserById()` ì‹ìœ¼ë¡œ fetch join ì¿¼ë¦¬ ì¶”ê°€ ì‘ì„±

---

<!-- <h2> ğŸ’¬ </h2> -->

<!-- <h4> </h4> -->

