---
layout: post
title: "[TIL] 2025-07-02 / ML 모델 자동화 파이프라인 구축"
date: 2025-07-02 20:00:00 +0900
categories:
  - til
  - main-camp
---

* toc
{:toc}

## 📖 Today I Learned
### ML 모델 자동화 파이프라인 구축

---

#### - **목적**
- 데이터 업데이트 시 수동 학습·배포 과정을 완전 자동화함
- 모델 교체 시 서비스 중단 없는 핫스왑 방식으로 무중단 배포 지원

#### - **구성 요소 및 흐름**
1. **GitHub Actions**: 메인 브랜치에 푸시되면 워크플로우 자동 실행
2. **데이터 추출**: SQL 쿼리로 최신 공정 데이터 조회 후 Pandas로 로드
3. **모델 학습**: LightGBM 또는 MLP 학습 스크립트 실행
4. **모델 저장**: 학습 결과 `.pkl` 파일을 버전 태그와 함께 S3 또는 내부 스토어에 업로드
5. **핫스왑 배포**
   - Spring Boot 애플리케이션의 `/reload-model` 엔드포인트 호출
   - 서비스 재시작 없이 최신 모델 파일 로드
6. **모니터링**: 학습 지표(RMSE, 정확도)와 서비스 응답 시간 등을 Prometheus로 수집하여 Grafana로 시각화

#### - **핫스왑 방식 장점**
- **무중단 서비스**: 트래픽 가용성 유지하면서 모델 업데이트
- **빠른 롤백**: 이전 모델 버전으로 즉시 복귀 가능
- **통합 CI/CD**: 학습·테스트·배포 과정을 끊김 없이 하나의 파이프라인으로 운영

#### - **고려 사항**
- 모델 파일 버전 관리 정책(태그·디렉터리 네이밍) 수립
- 학습 실패 시 알림 채널(Email/Slack) 설정하여 자동 보고
- 인증된 엔드포인트 보호 및 파일 접근 권한 관리