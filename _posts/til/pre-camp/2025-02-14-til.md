---
layout: post
title: "[μ‚¬μ „μΊ ν”„ 21μΌμ°¨] TIL 21μΌμ°¨"
date: 2025-02-14 17:51:00 +0900
categories: 
  - til
  - pre-camp
---

* toc
{:toc}

## π“– μ¤λ ν•™μµ
### Spring κΈ°μ΄ κ°•μ

<!-- <h4> π“ƒ </h4> -->

---

#### - @SpringBootTest
- ν†µν•© ν…μ¤νΈλ¥Ό μν–‰ν•  λ• μ‚¬μ©
- Spring Boot μ• ν”λ¦¬μΌ€μ΄μ… μ „μ²΄ μ»¨ν…μ¤νΈλ¥Ό λ΅λ“ν•μ—¬ ν…μ¤λ¥΄λ¥Ό μ‹¤ν–‰ν•  μ μλ„λ΅ ν•¨
- νΉμ§•
  - μ¤ν”„λ§ μ»¨ν…μ¤νΈ λ΅λ“ : μ• ν”λ¦¬μΌ€μ΄μ…μ μ „μ²΄ μ»¨ν…μ¤νΈλ¥Ό λ΅λ“ν•μ—¬ λΉλ“¤μ΄ μƒμ„±λκ³  DIκ°€ λ™μ‘ν•λ” ν™κ²½μ—μ„ ν…μ¤νΈ μ§„ν–‰
  - μ‹¤μ  ν™κ²½κ³Ό μ μ‚¬ : λ‹¨μ„ν…μ¤νΈμ™€ λ‹¬λ¦¬, μ‹¤μ  μ• ν”λ¦¬μΌ€μ΄μ…κ³Ό μ μ‚¬ν• ν™κ²½μ—μ„ ν…μ¤νΈ κ°€λ¥
  - λλ¤ ν¬νΈ μ‚¬μ© κ°€λ¥ : `webEnvironment` μ†μ„±μ„ μ„¤μ •ν•λ©΄ μ›Ή ν™κ²½μ„ λ‹¤λ¥΄κ² κµ¬μ„± κ°€λ¥

#### - @Transactional
- ν…μ¤νΈκ°€ λλ‚ ν›„ μλ™μΌλ΅ λ΅¤λ°±λλ„λ΅ μ„¤μ •ν•λ” μ–΄λ…Έν…μ΄μ…
- νΉμ§•
  - ν…μ¤νΈ μ½”λ“μ—μ„ λ°μ΄ν„°λ² μ΄μ¤μ— λ³€κ²½μ‚¬ν•­μ΄ λ°μƒν•λ”λΌλ„ μλ™μΌλ΅ λ΅¤λ°±λλ―€λ΅ DB μƒνƒλ¥Ό μ μ§€
  - `@SpringBootTest`μ™€ ν•¨κ» μ‚¬μ©ν•λ©΄ νΈλμ­μ… λ‚΄μ—μ„ μ—¬λ¬ λ μ΄μ–΄λ¥Ό ν•¨κ» ν…μ¤νΈ κ°€λ¥
  - `@Commit`μ„ μ¶”κ°€ν•λ©΄ ν…μ¤νΈκ°€ λλ‚λ„ λ΅¤λ°±λμ§€ μ•κ³  λ³€κ²½μ‚¬ν•­ λ°μ

#### - jdbcTemplate
- JDBC λ°μ΄ν„°λ² μ΄μ¤ μ ‘κ·Όμ„ λ‹¨μν™”ν• ν΄λμ¤
- SQL μ‹¤ν–‰, κ²°κ³Ό λ§¤ν•‘, μμ™Έ μ²λ¦¬ λ“±μ„ μλ™μΌλ΅ μ²λ¦¬ν•΄μ£Όλ―€λ΅ μμ JDBC μ½”λ“λ³΄λ‹¤ κ°„κ²°ν•κ³  μ μ§€λ³΄μ μ©μ΄
- νΉμ§•
  - SQL μ‹¤ν–‰μ„ κ°„νΈν•κ² μ²λ¦¬
  - λ°λ³µμ μΈ JDBC μ½”λ“ μ κ±°
  - Checked Exception -> Runtime Exception λ³€ν™
  - μ»¤λ„¥μ… μλ™κ΄€λ¦¬
  - SQL μΈμ μ… λ°©μ§€

#### - JPA
- κ°μ²΄μ™€ κ΄€κ³„ν• λ°μ΄ν„°λ² μ΄μ¤ κ°„μ λ§¤ν•‘μ„ μ„ν• ν‘μ¤€ λ…μ„Έ
- SQLμ„ μ§μ ‘ μ‘μ„±ν•μ§€ μ•κ³ λ„ κ°μ²΄ μ§€ν–¥μ μΌλ΅ λ°μ΄ν„°λ² μ΄μ¤λ¥Ό λ‹¤λ£°μ μλ„λ΅ λ„μ™€μ£Όλ” κΈ°μ 
- μΈν„°νμ΄μ¤ λ…μ„ΈμΌ λΏ κµ¬ν„μ²΄κ°€ ν•„μ”
- ν•µμ‹¬ κ°λ…

|          κ°λ…           |                             μ„¤λ…                              |
| :---------------------: | :-----------------------------------------------------------: |
|       **Entity**        |              λ°μ΄ν„°λ² μ΄μ¤ ν…μ΄λΈ”κ³Ό λ§¤ν•‘λλ” κ°μ²΄              |
|    **EntityManager**    | μ—”ν‹°ν‹°λ¥Ό κ΄€λ¦¬ν•κ³  μμ†μ„± μ»¨ν…μ¤νΈ(Persistence Context)λ¥Ό λ‹΄λ‹Ή |
| **Persistence Context** |          μ—”ν‹°ν‹°λ¥Ό 1μ°¨ μΊμ‹μ— λ³΄κ΄€ν•μ—¬ κ΄€λ¦¬ν•λ” κ³µκ°„           |
|        **JPQL**         |               SQLκ³Ό μ μ‚¬ν• κ°μ²΄ κΈ°λ° μΏΌλ¦¬ μ–Έμ–΄                |
|     **Transaction**     |     λ°μ΄ν„° λ³€κ²½ μ‹ νΈλμ­μ… κ΄€λ¦¬ (`@Transactional` ν•„μ”)      |

#### - Spring Data JPA
- JPAλ¥Ό λ” μ‰½κ² μ‚¬μ©ν•  μ μλ„λ΅ λ„μ™€μ£Όλ” Spring ν•μ„ ν”„λ΅μ νΈ
- JPAλ¥Ό λ³΄λ‹¤ λ‹¨μν•κ³  μ§κ΄€μ μΌλ΅ μ‚¬μ©ν•  μ μλ„λ΅ ν•λ” μ¶”μƒν™” κ³„μΈµ
- μ¥μ 
  - Repository μΈν„°νμ΄μ¤ λ§μΌλ΅ CRUD κΈ°λ¥ μ κ³µ
  - JPQLμ„ μ§μ ‘ μ‘μ„±ν•  ν•„μ” μ—†μ΄ λ©”μ„λ“ λ„¤μ΄λ°λ§μΌλ΅ ν€΄λ¦¬ μ‹¤ν–‰ κ°€λ¥
  - νμ΄μ§• λ° μ •λ ¬ κΈ°λ¥ μ κ³µ
  - JPAμ κµ¬ν„μ²΄μ™€ μ™„λ²½ν•κ² ν†µν•©λ¨
  
#### - JPA & Spring Date JPA λΉ„κµ

|          κΈ°λ¥          |          JPA          |         Spring Data JPA          |
| :--------------------: | :-------------------: | :------------------------------: |
| **SQL μ‘μ„± ν•„μ” μ—¬λ¶€** |  ν•„μ”ν•¨ (JPQL μ‚¬μ©)   | κ±°μ ν•„μ” μ—†μ (μλ™ μΏΌλ¦¬ μƒμ„±)  |
|    **CRUD μ½”λ“λ‰**     |         λ§μ          | μ μ (`JpaRepository` μλ™ μ κ³µ) |
|   **νΈλμ­μ… μ²λ¦¬**    | `@Transactional` μ‚¬μ© |    `@Transactional` μλ™ μ§€μ›    |
|    **νμ΄μ§•/μ •λ ¬**     |   μ§μ ‘ κµ¬ν„ν•΄μ•Ό ν•¨    |    `Pageable` μΈν„°νμ΄μ¤ μ§€μ›    |

#### - AOP
- Aspect-Oriented Programming, κ΄€μ μ§€ν–¥ ν”„λ΅κ·Έλλ°
- κ³µν†µλ κΈ°λ¥μ„ λ¶„λ¦¬ν•μ—¬ μ½”λ“μ μ¤‘λ³µμ„ μ¤„μ΄κ³  μ μ§€λ³΄μλ¥Ό μ‰½κ² λ§λ“λ” κΈ°λ²•
- ν•µμ‹¬ κ°λ…

|            κ°λ…            |                                   μ„¤λ…                                    |
| :------------------------: | :-----------------------------------------------------------------------: |
|   **Aspect (μ• μ¤ν™νΈ)**    | μ—¬λ¬ ν΄λμ¤μ—μ„ κ³µν†µμΌλ΅ μ‚¬μ©ν•λ” κΈ°λ¥μ„ λ¨λ“ν™”ν• κ²ƒ (ex. λ΅κΉ…, νΈλμ­μ…) |
|  **Advice (μ΅°μ–Έ, μ¶©κ³ )**   |  **μ–Έμ ** κ³µν†µ κΈ°λ¥μ΄ μ‹¤ν–‰λ μ§€ μ •μ (`@Before`, `@After`, `@Around` λ“±)   |
| **JoinPoint (μ΅°μΈν¬μΈνΈ)** |        Adviceκ°€ μ‹¤ν–‰λ  μ μλ” μ§€μ  (ex. λ©”μ„λ“ νΈμ¶, μƒμ„±μ μ‹¤ν–‰)        |
|  **Pointcut (ν¬μΈνΈμ»·)**   |      Adviceκ°€ μ μ©λ  νΉμ • λ©”μ„λ“ λλ” μ‹¤ν–‰ μ‹μ μ„ ν•„ν„°λ§ν•λ” ν‘ν„μ‹       |
|     **Weaving (μ„λΉ™)**     |         Adviceλ¥Ό μ‹¤μ  μ½”λ“μ— μ μ©ν•λ” κ³Όμ • (μ»΄νμΌ νƒ€μ„, λ°νƒ€μ„)          |

- Advice μΆ…λ¥

|    μ–΄λ…Έν…μ΄μ…     |                  μ„¤λ…                   |
| :---------------: | :-------------------------------------: |
|     `@Before`     |    λ©”μ„λ“ μ‹¤ν–‰ **μ „μ—** Advice μ‹¤ν–‰     |
|     `@After`      |    λ©”μ„λ“ μ‹¤ν–‰ **ν›„μ—** Advice μ‹¤ν–‰     |
| `@AfterReturning` |    μ •μƒμ μΌλ΅ μ‹¤ν–‰λ ν›„ Advice μ‹¤ν–‰     |
| `@AfterThrowing`  |        μμ™Έ λ°μƒ μ‹ Advice μ‹¤ν–‰         |
|     `@Around`     | **λ©”μ„λ“ μ‹¤ν–‰ μ „ν›„λ¥Ό λ¨λ‘ κ°μ‹Έμ„** μ‹¤ν–‰ |

- AOPλ¥Ό ν™μ©ν•  μ μλ” κ²½μ°
  - λ΅κΉ… (Logging)
  - νΈλμ­μ… κ΄€λ¦¬ (@Transactional)
  - λ³΄μ• κ²€μ‚¬ (Security Check)
  - λ©”μ„λ“ μ‹¤ν–‰ μ‹κ°„ μΈ΅μ • (Performance Monitoring)
  - API μ”μ²­ λ΅κΉ… (Request Logging)
  - μμ™Έ μ²λ¦¬ (Exception Handling)

<!-- --- -->

<!-- <h2> π’¬ </h2> -->

<!-- <h4>  </h4> -->
